#import "../fragments/upstreamProject.graphql"

query Waterfall($options: WaterfallOptions!) {
  waterfall(options: $options) {
    flattenedVersions {
      activated
      author
      buildVariants(options: {}) {
        displayName
        tasks {
          displayName
          displayStatusCache: displayStatus
          execution
          id
          status
        }
        variant
      }
      createTime
      errors
      gitTags {
        tag
      }
      id
      message
      order
      requester
      revision
      taskStatusStats(options: {}) {
        counts {
          count
          status
        }
      }
      ...UpstreamProject
    }
    pagination {
      hasNextPage
      hasPrevPage
      nextPageOrder
      prevPageOrder
    }
  }
}
