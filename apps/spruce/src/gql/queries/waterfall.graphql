#import "../fragments/upstreamProject.graphql"

query Waterfall($options: WaterfallOptions!) {
  waterfall(options: $options) {
    flattenedVersions {
      id
      activated
      createTime
      errors
      gitTags {
        tag
      }
      message
      order
      requester
      revision
      user {
        displayName
        userId
      }
      waterfallBuilds {
        id
        activated
        buildVariant
        displayName
        tasks {
          id
          displayName
          displayStatusCache
          execution
        }
      }
    }
    pagination {
      activeVersionIds
      hasNextPage
      hasPrevPage
      mostRecentVersionOrder
      nextPageOrder
      prevPageOrder
    }
  }
}
