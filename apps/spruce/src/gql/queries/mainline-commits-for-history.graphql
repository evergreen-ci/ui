#import "../fragments/upstreamProject.graphql"

query MainlineCommitsForHistory(
  $mainlineCommitsOptions: MainlineCommitsOptions!
  $buildVariantOptions: BuildVariantOptions!
) {
  mainlineCommits(
    options: $mainlineCommitsOptions
    buildVariantOptions: $buildVariantOptions
  ) {
    nextPageOrderNumber
    prevPageOrderNumber
    versions {
      rolledUpVersions {
        id
        createTime
        gitTags {
          pusher
          tag
        }
        message
        order
        revision
        user {
          displayName
          userId
        }
      }
      version {
        ...UpstreamProject
        id
        buildVariants(options: $buildVariantOptions) {
          displayName
          tasks {
            id
            displayName
            displayStatus
            execution
          }
          variant
        }
        createTime
        gitTags {
          pusher
          tag
        }
        message
        order
        revision
        user {
          displayName
          userId
        }
      }
    }
  }
}
